/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/stream/route";
exports.ids = ["app/api/stream/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "?4c03":
/*!***********************!*\
  !*** debug (ignored) ***!
  \***********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.ts&appDir=%2FUsers%2Fmichalwanto%2FDocuments%2FMichal_wanto%2FWork%2FSynergy_test%2FTransactional_agent%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmichalwanto%2FDocuments%2FMichal_wanto%2FWork%2FSynergy_test%2FTransactional_agent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.ts&appDir=%2FUsers%2Fmichalwanto%2FDocuments%2FMichal_wanto%2FWork%2FSynergy_test%2FTransactional_agent%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmichalwanto%2FDocuments%2FMichal_wanto%2FWork%2FSynergy_test%2FTransactional_agent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_michalwanto_Documents_Michal_wanto_Work_Synergy_test_Transactional_agent_src_app_api_stream_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/stream/route.ts */ \"(rsc)/./src/app/api/stream/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/stream/route\",\n        pathname: \"/api/stream\",\n        filename: \"route\",\n        bundlePath: \"app/api/stream/route\"\n    },\n    resolvedPagePath: \"/Users/michalwanto/Documents/Michal_wanto/Work/Synergy_test/Transactional_agent/src/app/api/stream/route.ts\",\n    nextConfigOutput,\n    userland: _Users_michalwanto_Documents_Michal_wanto_Work_Synergy_test_Transactional_agent_src_app_api_stream_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/stream/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdHJlYW0lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnN0cmVhbSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnN0cmVhbSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm1pY2hhbHdhbnRvJTJGRG9jdW1lbnRzJTJGTWljaGFsX3dhbnRvJTJGV29yayUyRlN5bmVyZ3lfdGVzdCUyRlRyYW5zYWN0aW9uYWxfYWdlbnQlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGbWljaGFsd2FudG8lMkZEb2N1bWVudHMlMkZNaWNoYWxfd2FudG8lMkZXb3JrJTJGU3luZXJneV90ZXN0JTJGVHJhbnNhY3Rpb25hbF9hZ2VudCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDMkQ7QUFDeEk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmFuc2FjdGlvbmFsX2FnZW50Lz81MWM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9taWNoYWx3YW50by9Eb2N1bWVudHMvTWljaGFsX3dhbnRvL1dvcmsvU3luZXJneV90ZXN0L1RyYW5zYWN0aW9uYWxfYWdlbnQvc3JjL2FwcC9hcGkvc3RyZWFtL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zdHJlYW0vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zdHJlYW1cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3N0cmVhbS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9taWNoYWx3YW50by9Eb2N1bWVudHMvTWljaGFsX3dhbnRvL1dvcmsvU3luZXJneV90ZXN0L1RyYW5zYWN0aW9uYWxfYWdlbnQvc3JjL2FwcC9hcGkvc3RyZWFtL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zdHJlYW0vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.ts&appDir=%2FUsers%2Fmichalwanto%2FDocuments%2FMichal_wanto%2FWork%2FSynergy_test%2FTransactional_agent%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmichalwanto%2FDocuments%2FMichal_wanto%2FWork%2FSynergy_test%2FTransactional_agent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/agent/index.ts":
/*!****************************!*\
  !*** ./src/agent/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   simulateAgent: () => (/* binding */ simulateAgent)\n/* harmony export */ });\n/* harmony import */ var _x402_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../x402/client */ \"(rsc)/./src/x402/client.ts\");\n/* harmony import */ var _micropay_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../micropay/service */ \"(rsc)/./src/micropay/service.ts\");\n\n\n/**\n * SmartAgentWallet that logs to a custom callback\n */ class SmartAgentWallet {\n    constructor(innerWallet, micropay, log){\n        this.innerWallet = innerWallet;\n        this.micropay = micropay;\n        this.log = log;\n    }\n    // Wrap the inner wallet pay\n    async pay(recipient, amount, currency) {\n        this.log(`[AgentWallet] üß† Thinking: I need to pay ${amount} ${currency} on BASE SEPOLIA. Do I have enough?`);\n        await new Promise((r)=>setTimeout(r, 800)); // Think time\n        // Logic: For Phase 1 (Base Sepolia), we simulate checking local balance.\n        this.log(`[AgentWallet] üí° requesting liquidity from Micropay (Base Sepolia Pool)...`);\n        const liquidityResponse = await this.micropay.provideLiquidity({\n            amount: amount,\n            token: currency,\n            chainId: 84532,\n            destinationAddress: \"0x_my_agent_wallet\"\n        });\n        if (liquidityResponse.success) {\n            this.log(`[Micropay] ‚úÖ Liquidity provided to 0x_my_agent_wallet (Tx: ${liquidityResponse.txHash})`);\n        } else {\n            this.log(`[Micropay] ‚ùå Liquidity failed.`);\n        }\n        this.log(`[AgentWallet] üí∞ Liquidity secured! Proceeding to pay.`);\n        // Custom pay logic here instead of super to capture logs nicely\n        this.log(`[Wallet] üí∏ Paying ${amount} ${currency} to ${recipient}...`);\n        try {\n            const proof = await this.innerWallet.pay(recipient, amount, currency);\n            this.log(`[Wallet] ‚úÖ Payment successful! Proof: ${proof.substring(0, 10)}...`);\n            return proof;\n        } catch (e) {\n            this.log(`[Wallet] ‚ùå Payment failed: ${e.message}`);\n            throw e;\n        }\n    }\n}\n/**\n * Main Simulation Function Generator\n * Yields log lines as they happen.\n */ async function* simulateAgent() {\n    yield \"-----------------------------------------\";\n    yield \"\\uD83E\\uDD16 Synergy Agent Starting (Phase 1: Base Sepolia)...\";\n    yield \"-----------------------------------------\";\n    // Helper to capture internal logs from services if we were to refactor them fully.\n    // For now, we will just emit our main story logs.\n    const micropay = new _micropay_service__WEBPACK_IMPORTED_MODULE_1__.MockMicropayService();\n    // Determine Wallet Strategy\n    let innerWallet;\n    let privateKey = process.env.PRIVATE_KEY?.trim() || \"\";\n    if (privateKey && !privateKey.startsWith(\"0x\")) {\n        privateKey = \"0x\" + privateKey;\n    }\n    const rpcUrl = \"https://sepolia.base.org\";\n    // Basic check: 0x + 64 hex chars = 66 length. \n    // We'll trust viem to throw a better error if it's invalid, \n    // but just check we have roughly the right length to avoid obvious placeholders.\n    const isRealKey = privateKey.length >= 64 && !privateKey.includes(\"your_private_key\");\n    if (isRealKey) {\n        yield `[System] üîê Loaded Real Wallet from environment.`;\n        innerWallet = new _x402_client__WEBPACK_IMPORTED_MODULE_0__.RealWallet(privateKey, rpcUrl);\n    } else {\n        if (privateKey) {\n            yield `[System] ‚ö†Ô∏è PRIVATE_KEY found but invalid or placeholder. Using MockWallet.`;\n        } else {\n            yield `[System] ‚ö†Ô∏è No PRIVATE_KEY found. Using MockWallet.`;\n        }\n        innerWallet = new _x402_client__WEBPACK_IMPORTED_MODULE_0__.MockWallet();\n    }\n    // Simplified ad-hoc logging hook for the class to yield back to us\n    // Since we can't yield from inside the callback easily, we just push to a buffer?\n    // Or we just instantiate logic that we control manually below.\n    // Actually, to make 'SmartAgentWallet.pay' yield logs, we need to pass a callback that \n    // somehow bridges to this generator. \n    // BUT generators pause. Callbacks don't pause generator.\n    // REFACTOR FOR DEMO: usage of SmartAgentWallet class is tricky with generator unless we change yield pattern.\n    // We will manually yield the 'thinking' steps here in the script, \n    // and use the `innerWallet` directly for the payment action.\n    // yield \"ü§ñ Agent: Requesting access to paid resource...\";\n    // We create a wallet that yields logs? No, generator is async.\n    // We need a way to push logs out. \n    // Simplified: The wallet will call a localized log function, but we need to receive it.\n    // Since we can't easily yield from a callback in a class, let's use a queue or just accept \n    // that the `SmartAgentWallet` needs to be adapted.\n    // WORKAROUND: We will pass a simple push function, but since `yield` must be top level of generator, \n    // we might need to accumulate or use a proper stream.\n    // EASIER: `simulateAgent` returns a ReadableStream or we use an AsyncGenerator that awaits events.\n    // Let's stick to a simpler \"step by step\" script for the demo that just YIELDS strings directly in the flow.\n    yield \"\\uD83E\\uDD16 Agent: Requesting access to paid resource...\";\n    await new Promise((r)=>setTimeout(r, 1000));\n    yield \"[X402Client] ‚ö†Ô∏è Received 402 Payment Required. Handling payment...\";\n    await new Promise((r)=>setTimeout(r, 800));\n    yield `[AgentWallet] üß† Thinking: I need to pay 5.00 USDC on BASE SEPOLIA. Do I have enough?`;\n    await new Promise((r)=>setTimeout(r, 1000));\n    yield `[AgentWallet] üí° requesting liquidity from Micropay (Base Sepolia Pool)...`;\n    await new Promise((r)=>setTimeout(r, 800));\n    yield `[Micropay] üíß Liquidity requested: 5.00 USDC on chain 84532`;\n    yield `[Micropay] ‚öôÔ∏è  Processing cross-chain liquidity pipeline...`;\n    await new Promise((r)=>setTimeout(r, 1500));\n    yield `[Micropay] ‚úÖ Liquidity provided to 0x_my_agent_wallet`;\n    yield `[AgentWallet] üí∞ Liquidity secured! Proceeding to pay.`;\n    await new Promise((r)=>setTimeout(r, 800));\n    yield `[Wallet] üí∏ Paying 5.00 USDC (simulated cost) to 0x_service_provider...`;\n    // EXECUTE REAL OR MOCK TRANSACTION\n    // Note: We are using a hardcoded amount/recipient here for the demo script consistency,\n    // but using the real wallet implementation if available.\n    // We'll try to send a tiny amount of ETH for the 'Real' demo to avoid burning funds.\n    try {\n        const demoAmount = \"0.0001\"; // Tiny amount for test\n        const demoRecipient = \"0x1234567890123456789012345678901234567890\"; // Burn address / test recipient\n        if (isRealKey) {\n            yield `[RealWallet] ‚ö° Initiating ON-CHAIN transaction...`;\n            const hash = await innerWallet.pay(demoRecipient, demoAmount, \"ETH\");\n            yield `[RealWallet] üöÄ Tx Sent! Hash: ${hash}`;\n            yield `[RealWallet] üîó View on Explorer: https://sepolia.basescan.org/tx/${hash}`;\n        } else {\n            await innerWallet.pay(demoRecipient, demoAmount, \"ETH\");\n        }\n    } catch (e) {\n        yield `[Wallet] ‚ùå Transaction Error: ${e.message}`;\n    }\n    // await new Promise(r => setTimeout(r, 1000));\n    yield `[Wallet] ‚úÖ Payment logic complete!`;\n    yield `[Wallet] ‚úÖ Payment successful!`;\n    yield `[X402Client] üîÑ Retrying request with payment proof...`;\n    await new Promise((r)=>setTimeout(r, 1000));\n    yield \"-----------------------------------------\";\n    yield \"‚úÖ AGENT SUCCESS\";\n    yield \"Protected Data: { 'secret': 'The sky is blue', 'tier': 'premium' }\";\n    yield \"-----------------------------------------\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztZQUN6RCxNQUFNSyxPQUFPLE1BQU1uQyxZQUFZRyxHQUFHLENBQUMrQixlQUFlRCxZQUFZO1lBQzlELE1BQU0sQ0FBQywrQkFBK0IsRUFBRUUsS0FBSyxDQUFDO1lBQzlDLE1BQU0sQ0FBQyxrRUFBa0UsRUFBRUEsS0FBSyxDQUFDO1FBQ3JGLE9BQU87WUFDSCxNQUFNbkMsWUFBWUcsR0FBRyxDQUFDK0IsZUFBZUQsWUFBWTtRQUNyRDtJQUNKLEVBQUUsT0FBT2QsR0FBUTtRQUNiLE1BQU0sQ0FBQyw4QkFBOEIsRUFBRUEsRUFBRUMsT0FBTyxDQUFDLENBQUM7SUFDdEQ7SUFFQSwrQ0FBK0M7SUFDL0MsTUFBTSxDQUFDLGtDQUFrQyxDQUFDO0lBQzFDLE1BQU0sQ0FBQyw4QkFBOEIsQ0FBQztJQUV0QyxNQUFNLENBQUMsc0RBQXNELENBQUM7SUFDOUQsTUFBTSxJQUFJYixRQUFRQyxDQUFBQSxJQUFLQyxXQUFXRCxHQUFHO0lBRXJDLE1BQU07SUFDTixNQUFNO0lBQ04sTUFBTTtJQUNOLE1BQU07QUFDViIsInNvdXJjZXMiOlsid2VicGFjazovL3RyYW5zYWN0aW9uYWxfYWdlbnQvLi9zcmMvYWdlbnQvaW5kZXgudHM/YjAwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IFg0MDJDbGllbnQsIE1vY2tXYWxsZXQsIFJlYWxXYWxsZXQgfSBmcm9tICcuLi94NDAyL2NsaWVudCc7XG5pbXBvcnQgdHlwZSB7IFdhbGxldCB9IGZyb20gJy4uL3g0MDIvY2xpZW50JztcbmltcG9ydCB7IE1vY2tNaWNyb3BheVNlcnZpY2UgfSBmcm9tICcuLi9taWNyb3BheS9zZXJ2aWNlJztcbmltcG9ydCB0eXBlIHsgTWljcm9wYXlTZXJ2aWNlIH0gZnJvbSAnLi4vbWljcm9wYXkvc2VydmljZSc7XG5cbmV4cG9ydCB0eXBlIExvZ0NhbGxiYWNrID0gKG1zZzogc3RyaW5nKSA9PiB2b2lkO1xuXG4vKipcbiAqIFNtYXJ0QWdlbnRXYWxsZXQgdGhhdCBsb2dzIHRvIGEgY3VzdG9tIGNhbGxiYWNrXG4gKi9cbmNsYXNzIFNtYXJ0QWdlbnRXYWxsZXQgaW1wbGVtZW50cyBXYWxsZXQge1xuICAgIHByaXZhdGUgbWljcm9wYXk6IE1pY3JvcGF5U2VydmljZTtcbiAgICBwcml2YXRlIGxvZzogTG9nQ2FsbGJhY2s7XG4gICAgcHJpdmF0ZSBpbm5lcldhbGxldDogV2FsbGV0O1xuXG4gICAgY29uc3RydWN0b3IoaW5uZXJXYWxsZXQ6IFdhbGxldCwgbWljcm9wYXk6IE1pY3JvcGF5U2VydmljZSwgbG9nOiBMb2dDYWxsYmFjaykge1xuICAgICAgICB0aGlzLmlubmVyV2FsbGV0ID0gaW5uZXJXYWxsZXQ7XG4gICAgICAgIHRoaXMubWljcm9wYXkgPSBtaWNyb3BheTtcbiAgICAgICAgdGhpcy5sb2cgPSBsb2c7XG4gICAgfVxuXG4gICAgLy8gV3JhcCB0aGUgaW5uZXIgd2FsbGV0IHBheVxuICAgIGFzeW5jIHBheShyZWNpcGllbnQ6IHN0cmluZywgYW1vdW50OiBzdHJpbmcsIGN1cnJlbmN5OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICB0aGlzLmxvZyhgW0FnZW50V2FsbGV0XSDwn6egIFRoaW5raW5nOiBJIG5lZWQgdG8gcGF5ICR7YW1vdW50fSAke2N1cnJlbmN5fSBvbiBCQVNFIFNFUE9MSUEuIERvIEkgaGF2ZSBlbm91Z2g/YCk7XG5cbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIDgwMCkpOyAvLyBUaGluayB0aW1lXG5cbiAgICAgICAgLy8gTG9naWM6IEZvciBQaGFzZSAxIChCYXNlIFNlcG9saWEpLCB3ZSBzaW11bGF0ZSBjaGVja2luZyBsb2NhbCBiYWxhbmNlLlxuICAgICAgICB0aGlzLmxvZyhgW0FnZW50V2FsbGV0XSDwn5KhIHJlcXVlc3RpbmcgbGlxdWlkaXR5IGZyb20gTWljcm9wYXkgKEJhc2UgU2Vwb2xpYSBQb29sKS4uLmApO1xuXG4gICAgICAgIGNvbnN0IGxpcXVpZGl0eVJlc3BvbnNlID0gYXdhaXQgdGhpcy5taWNyb3BheS5wcm92aWRlTGlxdWlkaXR5KHtcbiAgICAgICAgICAgIGFtb3VudDogYW1vdW50LFxuICAgICAgICAgICAgdG9rZW46IGN1cnJlbmN5LFxuICAgICAgICAgICAgY2hhaW5JZDogODQ1MzIsIC8vIEJhc2UgU2Vwb2xpYVxuICAgICAgICAgICAgZGVzdGluYXRpb25BZGRyZXNzOiBcIjB4X215X2FnZW50X3dhbGxldFwiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChsaXF1aWRpdHlSZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aGlzLmxvZyhgW01pY3JvcGF5XSDinIUgTGlxdWlkaXR5IHByb3ZpZGVkIHRvIDB4X215X2FnZW50X3dhbGxldCAoVHg6ICR7bGlxdWlkaXR5UmVzcG9uc2UudHhIYXNofSlgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nKGBbTWljcm9wYXldIOKdjCBMaXF1aWRpdHkgZmFpbGVkLmApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2coYFtBZ2VudFdhbGxldF0g8J+SsCBMaXF1aWRpdHkgc2VjdXJlZCEgUHJvY2VlZGluZyB0byBwYXkuYCk7XG5cbiAgICAgICAgLy8gQ3VzdG9tIHBheSBsb2dpYyBoZXJlIGluc3RlYWQgb2Ygc3VwZXIgdG8gY2FwdHVyZSBsb2dzIG5pY2VseVxuICAgICAgICB0aGlzLmxvZyhgW1dhbGxldF0g8J+SuCBQYXlpbmcgJHthbW91bnR9ICR7Y3VycmVuY3l9IHRvICR7cmVjaXBpZW50fS4uLmApO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwcm9vZiA9IGF3YWl0IHRoaXMuaW5uZXJXYWxsZXQucGF5KHJlY2lwaWVudCwgYW1vdW50LCBjdXJyZW5jeSk7XG4gICAgICAgICAgICB0aGlzLmxvZyhgW1dhbGxldF0g4pyFIFBheW1lbnQgc3VjY2Vzc2Z1bCEgUHJvb2Y6ICR7cHJvb2Yuc3Vic3RyaW5nKDAsIDEwKX0uLi5gKTtcbiAgICAgICAgICAgIHJldHVybiBwcm9vZjtcbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgICB0aGlzLmxvZyhgW1dhbGxldF0g4p2MIFBheW1lbnQgZmFpbGVkOiAke2UubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogTWFpbiBTaW11bGF0aW9uIEZ1bmN0aW9uIEdlbmVyYXRvclxuICogWWllbGRzIGxvZyBsaW5lcyBhcyB0aGV5IGhhcHBlbi5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uKiBzaW11bGF0ZUFnZW50KCkge1xuICAgIHlpZWxkIFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIjtcbiAgICB5aWVsZCBcIvCfpJYgU3luZXJneSBBZ2VudCBTdGFydGluZyAoUGhhc2UgMTogQmFzZSBTZXBvbGlhKS4uLlwiO1xuICAgIHlpZWxkIFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIjtcblxuICAgIC8vIEhlbHBlciB0byBjYXB0dXJlIGludGVybmFsIGxvZ3MgZnJvbSBzZXJ2aWNlcyBpZiB3ZSB3ZXJlIHRvIHJlZmFjdG9yIHRoZW0gZnVsbHkuXG4gICAgLy8gRm9yIG5vdywgd2Ugd2lsbCBqdXN0IGVtaXQgb3VyIG1haW4gc3RvcnkgbG9ncy5cbiAgICBjb25zdCBtaWNyb3BheSA9IG5ldyBNb2NrTWljcm9wYXlTZXJ2aWNlKCk7XG5cbiAgICAvLyBEZXRlcm1pbmUgV2FsbGV0IFN0cmF0ZWd5XG4gICAgbGV0IGlubmVyV2FsbGV0OiBXYWxsZXQ7XG4gICAgbGV0IHByaXZhdGVLZXkgPSBwcm9jZXNzLmVudi5QUklWQVRFX0tFWT8udHJpbSgpIHx8IFwiXCI7XG4gICAgaWYgKHByaXZhdGVLZXkgJiYgIXByaXZhdGVLZXkuc3RhcnRzV2l0aChcIjB4XCIpKSB7XG4gICAgICAgIHByaXZhdGVLZXkgPSBcIjB4XCIgKyBwcml2YXRlS2V5O1xuICAgIH1cbiAgICBjb25zdCBycGNVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19SUENfVVJMO1xuICAgIC8vIEJhc2ljIGNoZWNrOiAweCArIDY0IGhleCBjaGFycyA9IDY2IGxlbmd0aC4gXG4gICAgLy8gV2UnbGwgdHJ1c3QgdmllbSB0byB0aHJvdyBhIGJldHRlciBlcnJvciBpZiBpdCdzIGludmFsaWQsIFxuICAgIC8vIGJ1dCBqdXN0IGNoZWNrIHdlIGhhdmUgcm91Z2hseSB0aGUgcmlnaHQgbGVuZ3RoIHRvIGF2b2lkIG9idmlvdXMgcGxhY2Vob2xkZXJzLlxuICAgIGNvbnN0IGlzUmVhbEtleSA9IHByaXZhdGVLZXkubGVuZ3RoID49IDY0ICYmICFwcml2YXRlS2V5LmluY2x1ZGVzKFwieW91cl9wcml2YXRlX2tleVwiKTtcblxuICAgIGlmIChpc1JlYWxLZXkpIHtcbiAgICAgICAgeWllbGQgYFtTeXN0ZW1dIPCflJAgTG9hZGVkIFJlYWwgV2FsbGV0IGZyb20gZW52aXJvbm1lbnQuYDtcbiAgICAgICAgaW5uZXJXYWxsZXQgPSBuZXcgUmVhbFdhbGxldChwcml2YXRlS2V5LCBycGNVcmwpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcml2YXRlS2V5KSB7XG4gICAgICAgICAgICB5aWVsZCBgW1N5c3RlbV0g4pqg77iPIFBSSVZBVEVfS0VZIGZvdW5kIGJ1dCBpbnZhbGlkIG9yIHBsYWNlaG9sZGVyLiBVc2luZyBNb2NrV2FsbGV0LmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB5aWVsZCBgW1N5c3RlbV0g4pqg77iPIE5vIFBSSVZBVEVfS0VZIGZvdW5kLiBVc2luZyBNb2NrV2FsbGV0LmA7XG4gICAgICAgIH1cbiAgICAgICAgaW5uZXJXYWxsZXQgPSBuZXcgTW9ja1dhbGxldCgpO1xuICAgIH1cblxuICAgIC8vIFNpbXBsaWZpZWQgYWQtaG9jIGxvZ2dpbmcgaG9vayBmb3IgdGhlIGNsYXNzIHRvIHlpZWxkIGJhY2sgdG8gdXNcbiAgICAvLyBTaW5jZSB3ZSBjYW4ndCB5aWVsZCBmcm9tIGluc2lkZSB0aGUgY2FsbGJhY2sgZWFzaWx5LCB3ZSBqdXN0IHB1c2ggdG8gYSBidWZmZXI/XG4gICAgLy8gT3Igd2UganVzdCBpbnN0YW50aWF0ZSBsb2dpYyB0aGF0IHdlIGNvbnRyb2wgbWFudWFsbHkgYmVsb3cuXG4gICAgLy8gQWN0dWFsbHksIHRvIG1ha2UgJ1NtYXJ0QWdlbnRXYWxsZXQucGF5JyB5aWVsZCBsb2dzLCB3ZSBuZWVkIHRvIHBhc3MgYSBjYWxsYmFjayB0aGF0IFxuICAgIC8vIHNvbWVob3cgYnJpZGdlcyB0byB0aGlzIGdlbmVyYXRvci4gXG4gICAgLy8gQlVUIGdlbmVyYXRvcnMgcGF1c2UuIENhbGxiYWNrcyBkb24ndCBwYXVzZSBnZW5lcmF0b3IuXG5cbiAgICAvLyBSRUZBQ1RPUiBGT1IgREVNTzogdXNhZ2Ugb2YgU21hcnRBZ2VudFdhbGxldCBjbGFzcyBpcyB0cmlja3kgd2l0aCBnZW5lcmF0b3IgdW5sZXNzIHdlIGNoYW5nZSB5aWVsZCBwYXR0ZXJuLlxuICAgIC8vIFdlIHdpbGwgbWFudWFsbHkgeWllbGQgdGhlICd0aGlua2luZycgc3RlcHMgaGVyZSBpbiB0aGUgc2NyaXB0LCBcbiAgICAvLyBhbmQgdXNlIHRoZSBgaW5uZXJXYWxsZXRgIGRpcmVjdGx5IGZvciB0aGUgcGF5bWVudCBhY3Rpb24uXG5cbiAgICAvLyB5aWVsZCBcIvCfpJYgQWdlbnQ6IFJlcXVlc3RpbmcgYWNjZXNzIHRvIHBhaWQgcmVzb3VyY2UuLi5cIjtcblxuICAgIC8vIFdlIGNyZWF0ZSBhIHdhbGxldCB0aGF0IHlpZWxkcyBsb2dzPyBObywgZ2VuZXJhdG9yIGlzIGFzeW5jLlxuICAgIC8vIFdlIG5lZWQgYSB3YXkgdG8gcHVzaCBsb2dzIG91dC4gXG4gICAgLy8gU2ltcGxpZmllZDogVGhlIHdhbGxldCB3aWxsIGNhbGwgYSBsb2NhbGl6ZWQgbG9nIGZ1bmN0aW9uLCBidXQgd2UgbmVlZCB0byByZWNlaXZlIGl0LlxuICAgIC8vIFNpbmNlIHdlIGNhbid0IGVhc2lseSB5aWVsZCBmcm9tIGEgY2FsbGJhY2sgaW4gYSBjbGFzcywgbGV0J3MgdXNlIGEgcXVldWUgb3IganVzdCBhY2NlcHQgXG4gICAgLy8gdGhhdCB0aGUgYFNtYXJ0QWdlbnRXYWxsZXRgIG5lZWRzIHRvIGJlIGFkYXB0ZWQuXG4gICAgLy8gV09SS0FST1VORDogV2Ugd2lsbCBwYXNzIGEgc2ltcGxlIHB1c2ggZnVuY3Rpb24sIGJ1dCBzaW5jZSBgeWllbGRgIG11c3QgYmUgdG9wIGxldmVsIG9mIGdlbmVyYXRvciwgXG4gICAgLy8gd2UgbWlnaHQgbmVlZCB0byBhY2N1bXVsYXRlIG9yIHVzZSBhIHByb3BlciBzdHJlYW0uXG4gICAgLy8gRUFTSUVSOiBgc2ltdWxhdGVBZ2VudGAgcmV0dXJucyBhIFJlYWRhYmxlU3RyZWFtIG9yIHdlIHVzZSBhbiBBc3luY0dlbmVyYXRvciB0aGF0IGF3YWl0cyBldmVudHMuXG5cbiAgICAvLyBMZXQncyBzdGljayB0byBhIHNpbXBsZXIgXCJzdGVwIGJ5IHN0ZXBcIiBzY3JpcHQgZm9yIHRoZSBkZW1vIHRoYXQganVzdCBZSUVMRFMgc3RyaW5ncyBkaXJlY3RseSBpbiB0aGUgZmxvdy5cblxuICAgIHlpZWxkIFwi8J+kliBBZ2VudDogUmVxdWVzdGluZyBhY2Nlc3MgdG8gcGFpZCByZXNvdXJjZS4uLlwiO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCAxMDAwKSk7XG5cbiAgICB5aWVsZCBcIltYNDAyQ2xpZW50XSDimqDvuI8gUmVjZWl2ZWQgNDAyIFBheW1lbnQgUmVxdWlyZWQuIEhhbmRsaW5nIHBheW1lbnQuLi5cIjtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgODAwKSk7XG5cbiAgICB5aWVsZCBgW0FnZW50V2FsbGV0XSDwn6egIFRoaW5raW5nOiBJIG5lZWQgdG8gcGF5IDUuMDAgVVNEQyBvbiBCQVNFIFNFUE9MSUEuIERvIEkgaGF2ZSBlbm91Z2g/YDtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgMTAwMCkpO1xuXG4gICAgeWllbGQgYFtBZ2VudFdhbGxldF0g8J+SoSByZXF1ZXN0aW5nIGxpcXVpZGl0eSBmcm9tIE1pY3JvcGF5IChCYXNlIFNlcG9saWEgUG9vbCkuLi5gO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCA4MDApKTtcblxuICAgIHlpZWxkIGBbTWljcm9wYXldIPCfkqcgTGlxdWlkaXR5IHJlcXVlc3RlZDogNS4wMCBVU0RDIG9uIGNoYWluIDg0NTMyYDtcbiAgICB5aWVsZCBgW01pY3JvcGF5XSDimpnvuI8gIFByb2Nlc3NpbmcgY3Jvc3MtY2hhaW4gbGlxdWlkaXR5IHBpcGVsaW5lLi4uYDtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgMTUwMCkpO1xuXG4gICAgeWllbGQgYFtNaWNyb3BheV0g4pyFIExpcXVpZGl0eSBwcm92aWRlZCB0byAweF9teV9hZ2VudF93YWxsZXRgO1xuICAgIHlpZWxkIGBbQWdlbnRXYWxsZXRdIPCfkrAgTGlxdWlkaXR5IHNlY3VyZWQhIFByb2NlZWRpbmcgdG8gcGF5LmA7XG4gICAgYXdhaXQgbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIDgwMCkpO1xuXG4gICAgeWllbGQgYFtXYWxsZXRdIPCfkrggUGF5aW5nIDUuMDAgVVNEQyAoc2ltdWxhdGVkIGNvc3QpIHRvIDB4X3NlcnZpY2VfcHJvdmlkZXIuLi5gO1xuXG4gICAgLy8gRVhFQ1VURSBSRUFMIE9SIE1PQ0sgVFJBTlNBQ1RJT05cbiAgICAvLyBOb3RlOiBXZSBhcmUgdXNpbmcgYSBoYXJkY29kZWQgYW1vdW50L3JlY2lwaWVudCBoZXJlIGZvciB0aGUgZGVtbyBzY3JpcHQgY29uc2lzdGVuY3ksXG4gICAgLy8gYnV0IHVzaW5nIHRoZSByZWFsIHdhbGxldCBpbXBsZW1lbnRhdGlvbiBpZiBhdmFpbGFibGUuXG4gICAgLy8gV2UnbGwgdHJ5IHRvIHNlbmQgYSB0aW55IGFtb3VudCBvZiBFVEggZm9yIHRoZSAnUmVhbCcgZGVtbyB0byBhdm9pZCBidXJuaW5nIGZ1bmRzLlxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRlbW9BbW91bnQgPSBcIjAuMDAwMVwiOyAvLyBUaW55IGFtb3VudCBmb3IgdGVzdFxuICAgICAgICBjb25zdCBkZW1vUmVjaXBpZW50ID0gXCIweDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTBcIjsgLy8gQnVybiBhZGRyZXNzIC8gdGVzdCByZWNpcGllbnRcblxuICAgICAgICBpZiAoaXNSZWFsS2V5KSB7XG4gICAgICAgICAgICB5aWVsZCBgW1JlYWxXYWxsZXRdIOKaoSBJbml0aWF0aW5nIE9OLUNIQUlOIHRyYW5zYWN0aW9uLi4uYDtcbiAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBpbm5lcldhbGxldC5wYXkoZGVtb1JlY2lwaWVudCwgZGVtb0Ftb3VudCwgJ0VUSCcpO1xuICAgICAgICAgICAgeWllbGQgYFtSZWFsV2FsbGV0XSDwn5qAIFR4IFNlbnQhIEhhc2g6ICR7aGFzaH1gO1xuICAgICAgICAgICAgeWllbGQgYFtSZWFsV2FsbGV0XSDwn5SXIFZpZXcgb24gRXhwbG9yZXI6IGh0dHBzOi8vc2Vwb2xpYS5iYXNlc2Nhbi5vcmcvdHgvJHtoYXNofWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBpbm5lcldhbGxldC5wYXkoZGVtb1JlY2lwaWVudCwgZGVtb0Ftb3VudCwgJ0VUSCcpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgIHlpZWxkIGBbV2FsbGV0XSDinYwgVHJhbnNhY3Rpb24gRXJyb3I6ICR7ZS5tZXNzYWdlfWA7XG4gICAgfVxuXG4gICAgLy8gYXdhaXQgbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIDEwMDApKTtcbiAgICB5aWVsZCBgW1dhbGxldF0g4pyFIFBheW1lbnQgbG9naWMgY29tcGxldGUhYDtcbiAgICB5aWVsZCBgW1dhbGxldF0g4pyFIFBheW1lbnQgc3VjY2Vzc2Z1bCFgO1xuXG4gICAgeWllbGQgYFtYNDAyQ2xpZW50XSDwn5SEIFJldHJ5aW5nIHJlcXVlc3Qgd2l0aCBwYXltZW50IHByb29mLi4uYDtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgMTAwMCkpO1xuXG4gICAgeWllbGQgXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiO1xuICAgIHlpZWxkIFwi4pyFIEFHRU5UIFNVQ0NFU1NcIjtcbiAgICB5aWVsZCBcIlByb3RlY3RlZCBEYXRhOiB7ICdzZWNyZXQnOiAnVGhlIHNreSBpcyBibHVlJywgJ3RpZXInOiAncHJlbWl1bScgfVwiO1xuICAgIHlpZWxkIFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIjtcbn1cbiJdLCJuYW1lcyI6WyJNb2NrV2FsbGV0IiwiUmVhbFdhbGxldCIsIk1vY2tNaWNyb3BheVNlcnZpY2UiLCJTbWFydEFnZW50V2FsbGV0IiwiY29uc3RydWN0b3IiLCJpbm5lcldhbGxldCIsIm1pY3JvcGF5IiwibG9nIiwicGF5IiwicmVjaXBpZW50IiwiYW1vdW50IiwiY3VycmVuY3kiLCJQcm9taXNlIiwiciIsInNldFRpbWVvdXQiLCJsaXF1aWRpdHlSZXNwb25zZSIsInByb3ZpZGVMaXF1aWRpdHkiLCJ0b2tlbiIsImNoYWluSWQiLCJkZXN0aW5hdGlvbkFkZHJlc3MiLCJzdWNjZXNzIiwidHhIYXNoIiwicHJvb2YiLCJzdWJzdHJpbmciLCJlIiwibWVzc2FnZSIsInNpbXVsYXRlQWdlbnQiLCJwcml2YXRlS2V5IiwicHJvY2VzcyIsImVudiIsIlBSSVZBVEVfS0VZIiwidHJpbSIsInN0YXJ0c1dpdGgiLCJycGNVcmwiLCJORVhUX1BVQkxJQ19SUENfVVJMIiwiaXNSZWFsS2V5IiwibGVuZ3RoIiwiaW5jbHVkZXMiLCJkZW1vQW1vdW50IiwiZGVtb1JlY2lwaWVudCIsImhhc2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/agent/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/stream/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/stream/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var _agent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../agent */ \"(rsc)/./src/agent/index.ts\");\n\n// Force dynamic prevents caching\nconst dynamic = \"force-dynamic\";\nasync function GET() {\n    const encoder = new TextEncoder();\n    const stream = new ReadableStream({\n        async start (controller) {\n            const iterator = (0,_agent__WEBPACK_IMPORTED_MODULE_0__.simulateAgent)();\n            try {\n                for await (const log of iterator){\n                    // Send log line encoded\n                    controller.enqueue(encoder.encode(log + \"\\n\"));\n                }\n            } catch (e) {\n                controller.error(e);\n            } finally{\n                controller.close();\n            }\n        }\n    });\n    return new Response(stream, {\n        headers: {\n            \"Content-Type\": \"text/plain; charset=utf-8\",\n            \"Transfer-Encoding\": \"chunked\"\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zdHJlYW0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStDO0FBRS9DLGlDQUFpQztBQUMxQixNQUFNQyxVQUFVLGdCQUFnQjtBQUVoQyxlQUFlQztJQUNsQixNQUFNQyxVQUFVLElBQUlDO0lBRXBCLE1BQU1DLFNBQVMsSUFBSUMsZUFBZTtRQUM5QixNQUFNQyxPQUFNQyxVQUFVO1lBQ2xCLE1BQU1DLFdBQVdULHFEQUFhQTtZQUU5QixJQUFJO2dCQUNBLFdBQVcsTUFBTVUsT0FBT0QsU0FBVTtvQkFDOUIsd0JBQXdCO29CQUN4QkQsV0FBV0csT0FBTyxDQUFDUixRQUFRUyxNQUFNLENBQUNGLE1BQU07Z0JBQzVDO1lBQ0osRUFBRSxPQUFPRyxHQUFHO2dCQUNSTCxXQUFXTSxLQUFLLENBQUNEO1lBQ3JCLFNBQVU7Z0JBQ05MLFdBQVdPLEtBQUs7WUFDcEI7UUFDSjtJQUNKO0lBRUEsT0FBTyxJQUFJQyxTQUFTWCxRQUFRO1FBQ3hCWSxTQUFTO1lBQ0wsZ0JBQWdCO1lBQ2hCLHFCQUFxQjtRQUN6QjtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmFuc2FjdGlvbmFsX2FnZW50Ly4vc3JjL2FwcC9hcGkvc3RyZWFtL3JvdXRlLnRzPzZkYzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2ltdWxhdGVBZ2VudCB9IGZyb20gXCIuLi8uLi8uLi9hZ2VudFwiO1xuXG4vLyBGb3JjZSBkeW5hbWljIHByZXZlbnRzIGNhY2hpbmdcbmV4cG9ydCBjb25zdCBkeW5hbWljID0gJ2ZvcmNlLWR5bmFtaWMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcblxuICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgIGFzeW5jIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gc2ltdWxhdGVBZ2VudCgpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgbG9nIG9mIGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgbG9nIGxpbmUgZW5jb2RlZFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoZW5jb2Rlci5lbmNvZGUobG9nICsgXCJcXG5cIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVycm9yKGUpO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHN0cmVhbSwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvcGxhaW47IGNoYXJzZXQ9dXRmLTgnLFxuICAgICAgICAgICAgJ1RyYW5zZmVyLUVuY29kaW5nJzogJ2NodW5rZWQnLFxuICAgICAgICB9LFxuICAgIH0pO1xufVxuIl0sIm5hbWVzIjpbInNpbXVsYXRlQWdlbnQiLCJkeW5hbWljIiwiR0VUIiwiZW5jb2RlciIsIlRleHRFbmNvZGVyIiwic3RyZWFtIiwiUmVhZGFibGVTdHJlYW0iLCJzdGFydCIsImNvbnRyb2xsZXIiLCJpdGVyYXRvciIsImxvZyIsImVucXVldWUiLCJlbmNvZGUiLCJlIiwiZXJyb3IiLCJjbG9zZSIsIlJlc3BvbnNlIiwiaGVhZGVycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/stream/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/micropay/service.ts":
/*!*********************************!*\
  !*** ./src/micropay/service.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MockMicropayService: () => (/* binding */ MockMicropayService)\n/* harmony export */ });\n/**\n * Micropay Service Interface\n * Represents Marco's liquidity pipeline.\n */ class MockMicropayService {\n    async provideLiquidity(req) {\n        console.log(`[Micropay] üíß Liquidity requested: ${req.amount} ${req.token} on chain ${req.chainId}`);\n        console.log(`[Micropay] ‚öôÔ∏è  Processing cross-chain liquidity pipeline...`);\n        await new Promise((resolve)=>setTimeout(resolve, 800)); // Simulate processing\n        console.log(`[Micropay] ‚úÖ Liquidity provided to ${req.destinationAddress}`);\n        return {\n            success: true,\n            txHash: \"0x_mock_liquidity_tx_\" + Date.now()\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbWljcm9wYXkvc2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQ0E7OztDQUdDLEdBc0JNLE1BQU1BO0lBQ1QsTUFBTUMsaUJBQWlCQyxHQUFxQixFQUE4QjtRQUN0RUMsUUFBUUMsR0FBRyxDQUFDLENBQUMsbUNBQW1DLEVBQUVGLElBQUlHLE1BQU0sQ0FBQyxDQUFDLEVBQUVILElBQUlJLEtBQUssQ0FBQyxVQUFVLEVBQUVKLElBQUlLLE9BQU8sQ0FBQyxDQUFDO1FBQ25HSixRQUFRQyxHQUFHLENBQUMsQ0FBQywyREFBMkQsQ0FBQztRQUV6RSxNQUFNLElBQUlJLFFBQVFDLENBQUFBLFVBQVdDLFdBQVdELFNBQVMsT0FBTyxzQkFBc0I7UUFFOUVOLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLG1DQUFtQyxFQUFFRixJQUFJUyxrQkFBa0IsQ0FBQyxDQUFDO1FBRTFFLE9BQU87WUFDSEMsU0FBUztZQUNUQyxRQUFRLDBCQUEwQkMsS0FBS0MsR0FBRztRQUM5QztJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmFuc2FjdGlvbmFsX2FnZW50Ly4vc3JjL21pY3JvcGF5L3NlcnZpY2UudHM/ZWMzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogTWljcm9wYXkgU2VydmljZSBJbnRlcmZhY2VcbiAqIFJlcHJlc2VudHMgTWFyY28ncyBsaXF1aWRpdHkgcGlwZWxpbmUuXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBMaXF1aWRpdHlSZXF1ZXN0IHtcbiAgICBhbW91bnQ6IHN0cmluZztcbiAgICB0b2tlbjogc3RyaW5nO1xuICAgIGNoYWluSWQ6IG51bWJlcjtcbiAgICBkZXN0aW5hdGlvbkFkZHJlc3M6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaXF1aWRpdHlSZXNwb25zZSB7XG4gICAgc3VjY2VzczogYm9vbGVhbjtcbiAgICB0eEhhc2g/OiBzdHJpbmc7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNaWNyb3BheVNlcnZpY2Uge1xuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgbGlxdWlkaXR5IHRvIGJlIHR5cGljYWxseSBicmlkZ2Uvc3dhcHBlZCBhbmQgc2VudCB0byBkZXN0aW5hdGlvbi5cbiAgICAgKi9cbiAgICBwcm92aWRlTGlxdWlkaXR5KHJlcTogTGlxdWlkaXR5UmVxdWVzdCk6IFByb21pc2U8TGlxdWlkaXR5UmVzcG9uc2U+O1xufVxuXG5leHBvcnQgY2xhc3MgTW9ja01pY3JvcGF5U2VydmljZSBpbXBsZW1lbnRzIE1pY3JvcGF5U2VydmljZSB7XG4gICAgYXN5bmMgcHJvdmlkZUxpcXVpZGl0eShyZXE6IExpcXVpZGl0eVJlcXVlc3QpOiBQcm9taXNlPExpcXVpZGl0eVJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbTWljcm9wYXldIPCfkqcgTGlxdWlkaXR5IHJlcXVlc3RlZDogJHtyZXEuYW1vdW50fSAke3JlcS50b2tlbn0gb24gY2hhaW4gJHtyZXEuY2hhaW5JZH1gKTtcbiAgICAgICAgY29uc29sZS5sb2coYFtNaWNyb3BheV0g4pqZ77iPICBQcm9jZXNzaW5nIGNyb3NzLWNoYWluIGxpcXVpZGl0eSBwaXBlbGluZS4uLmApO1xuXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA4MDApKTsgLy8gU2ltdWxhdGUgcHJvY2Vzc2luZ1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBbTWljcm9wYXldIOKchSBMaXF1aWRpdHkgcHJvdmlkZWQgdG8gJHtyZXEuZGVzdGluYXRpb25BZGRyZXNzfWApO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgdHhIYXNoOiBcIjB4X21vY2tfbGlxdWlkaXR5X3R4X1wiICsgRGF0ZS5ub3coKVxuICAgICAgICB9O1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJNb2NrTWljcm9wYXlTZXJ2aWNlIiwicHJvdmlkZUxpcXVpZGl0eSIsInJlcSIsImNvbnNvbGUiLCJsb2ciLCJhbW91bnQiLCJ0b2tlbiIsImNoYWluSWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJkZXN0aW5hdGlvbkFkZHJlc3MiLCJzdWNjZXNzIiwidHhIYXNoIiwiRGF0ZSIsIm5vdyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/micropay/service.ts\n");

/***/ }),

/***/ "(rsc)/./src/x402/client.ts":
/*!****************************!*\
  !*** ./src/x402/client.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MockWallet: () => (/* binding */ MockWallet),\n/* harmony export */   RealWallet: () => (/* binding */ RealWallet),\n/* harmony export */   X402Client: () => (/* binding */ X402Client)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! viem */ \"(rsc)/./node_modules/viem/_esm/clients/createWalletClient.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! viem */ \"(rsc)/./node_modules/viem/_esm/clients/transports/http.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! viem */ \"(rsc)/./node_modules/viem/_esm/clients/decorators/public.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! viem */ \"(rsc)/./node_modules/viem/_esm/utils/unit/parseEther.js\");\n/* harmony import */ var viem_accounts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! viem/accounts */ \"(rsc)/./node_modules/viem/_esm/accounts/privateKeyToAccount.js\");\n/* harmony import */ var viem_chains__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! viem/chains */ \"(rsc)/./node_modules/viem/_esm/chains/definitions/baseSepolia.js\");\n\n\n\n\nclass MockWallet {\n    async pay(recipient, amount, currency) {\n        console.log(`[Wallet] üí∏ Paying ${amount} ${currency} to ${recipient}...`);\n        // Simulate network delay\n        await new Promise((resolve)=>setTimeout(resolve, 500));\n        console.log(`[Wallet] ‚úÖ Payment successful!`);\n        return \"mock_payment_proof_token_\" + Date.now();\n    }\n}\nclass RealWallet {\n    constructor(privateKey, rpcUrl){\n        const account = (0,viem_accounts__WEBPACK_IMPORTED_MODULE_0__.privateKeyToAccount)(privateKey);\n        this.client = (0,viem__WEBPACK_IMPORTED_MODULE_1__.createWalletClient)({\n            account,\n            chain: viem_chains__WEBPACK_IMPORTED_MODULE_2__.baseSepolia,\n            transport: (0,viem__WEBPACK_IMPORTED_MODULE_3__.http)(rpcUrl || \"https://sepolia.base.org\")\n        }).extend(viem__WEBPACK_IMPORTED_MODULE_4__.publicActions);\n    }\n    async pay(recipient, amount, currency) {\n        console.log(`[RealWallet] üí∏ Initiating real transaction: ${amount} ${currency} to ${recipient}`);\n        // Simple heuristic: assume amount is in ETH/Standard Unit. \n        // In a real generic agent, we'd need a token map.\n        // For this demo, we assume currency='ETH' or 'USDC' implies native/token transfer.\n        // SIMPLIFICATION: We will treat everything as native ETH transfer for Base Sepolia demo if 'amount' is small.\n        // OR we just parseEther.\n        try {\n            const hash = await this.client.sendTransaction({\n                to: recipient,\n                value: (0,viem__WEBPACK_IMPORTED_MODULE_5__.parseEther)(amount)\n            });\n            console.log(`[RealWallet] üöÄ Transaction sent! Hash: ${hash}`);\n            console.log(`[RealWallet] ‚è≥ Waiting for confirmation...`);\n            const receipt = await this.client.waitForTransactionReceipt({\n                hash\n            });\n            console.log(`[RealWallet] ‚úÖ Transaction confirmed in block ${receipt.blockNumber}`);\n            return hash;\n        } catch (error) {\n            console.error(`[RealWallet] ‚ùå Transaction failed:`, error);\n            throw error;\n        }\n    }\n}\nclass X402Client {\n    constructor(baseUrl, wallet){\n        this.client = axios__WEBPACK_IMPORTED_MODULE_6__[\"default\"].create({\n            baseURL: baseUrl || \"\"\n        });\n        this.wallet = wallet || new MockWallet();\n        this.setupInterceptors();\n    }\n    setupInterceptors() {\n        this.client.interceptors.response.use((response)=>response, async (error)=>{\n            if (error.response && error.response.status === 402) {\n                console.log(\"[X402Client] ‚ö†Ô∏è Received 402 Payment Required. Handling payment...\");\n                return this.handle402(error);\n            }\n            return Promise.reject(error);\n        });\n    }\n    async handle402(error) {\n        const originalRequest = error.config;\n        // 1. Parse Payment Requirements from Response\n        // NOTE: This logic depends heavily on how the server sends 402 details.\n        // Common patterns include 'WWW-Authenticate' header or a JSON body.\n        // We will assume a JSON body for this synergy test unless standard headers are found.\n        const paymentReq = this.parsePaymentRequirements(error.response);\n        if (!paymentReq) {\n            throw new Error(\"Could not parse payment requirements from 402 response\");\n        }\n        // 2. Execute Payment\n        const proof = await this.wallet.pay(paymentReq.recipientAddress, paymentReq.amount, paymentReq.currency);\n        // 3. Attach Proof to Headers and Retry\n        // Standard might be 'Authorization: L402 <token>' or custom headers.\n        if (!originalRequest.headers) {\n            originalRequest.headers = {};\n        }\n        originalRequest.headers[\"Authorization\"] = `L402 ${proof}`;\n        originalRequest.headers[\"X-Payment-Token\"] = proof; // Redundant backup\n        console.log(`[X402Client] üîÑ Retrying request with payment proof...`);\n        return this.client(originalRequest);\n    }\n    parsePaymentRequirements(response) {\n        // Strategy 1: Check standard headers (simplistic view)\n        const authHeader = response.headers[\"www-authenticate\"];\n        if (authHeader) {\n        // Parse logic for header if needed\n        }\n        // Strategy 2: Check Body (easier for custom agent APIs)\n        const data = response.data;\n        if (data && data.amount && data.address) {\n            return {\n                url: data.url || \"\",\n                amount: data.amount,\n                currency: data.currency || \"USDC\",\n                recipientAddress: data.address\n            };\n        }\n        return null;\n    }\n    // Public API to make requests\n    async get(url, config) {\n        return this.client.get(url, config);\n    }\n    async post(url, data, config) {\n        return this.client.post(url, data, config);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNYO0lBRUEsOEJBQThCO0lBQzlCLE1BQWFFLElBQUlELEdBQVcsRUFBRVYsTUFBMkIsRUFBRTtRQUN2RCxPQUFPLElBQUksQ0FBQ3pCLE1BQU0sQ0FBQ29DLEdBQUcsQ0FBQ0QsS0FBS1Y7SUFDaEM7SUFFQSxNQUFhWSxLQUFLRixHQUFXLEVBQUVGLElBQVUsRUFBRVIsTUFBMkIsRUFBRTtRQUNwRSxPQUFPLElBQUksQ0FBQ3pCLE1BQU0sQ0FBQ3FDLElBQUksQ0FBQ0YsS0FBS0YsTUFBTVI7SUFDdkM7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3RyYW5zYWN0aW9uYWxfYWdlbnQvLi9zcmMveDQwMi9jbGllbnQudHM/YTMxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBheGlvcywgeyBBeGlvc0Vycm9yIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHR5cGUgeyBBeGlvc0luc3RhbmNlLCBBeGlvc1JlcXVlc3RDb25maWcsIEF4aW9zUmVzcG9uc2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBjcmVhdGVXYWxsZXRDbGllbnQsIGh0dHAsIHBhcnNlRXRoZXIsIHR5cGUgV2FsbGV0Q2xpZW50IGFzIFZpZW1XYWxsZXRDbGllbnQsIHB1YmxpY0FjdGlvbnMgfSBmcm9tICd2aWVtJztcbmltcG9ydCB7IHByaXZhdGVLZXlUb0FjY291bnQgfSBmcm9tICd2aWVtL2FjY291bnRzJztcbmltcG9ydCB7IGJhc2VTZXBvbGlhIH0gZnJvbSAndmllbS9jaGFpbnMnO1xuXG4vKipcbiAqIEludGVyZmFjZSByZXByZXNlbnRpbmcgdGhlIHBheW1lbnQgZGV0YWlscyBleHRyYWN0ZWQgZnJvbSBhIDQwMiByZXNwb25zZS5cbiAqL1xuaW50ZXJmYWNlIFBheW1lbnRSZXF1aXJlbWVudCB7XG4gICAgdXJsOiBzdHJpbmc7IC8vIFRoZSBVUkwgdG8gc2VuZCBwYXltZW50IHRvIG9yIG1ldGFkYXRhIGFib3V0IHBheW1lbnRcbiAgICBhbW91bnQ6IHN0cmluZztcbiAgICBjdXJyZW5jeTogc3RyaW5nO1xuICAgIHJlY2lwaWVudEFkZHJlc3M6IHN0cmluZztcbn1cblxuLyoqXG4gKiBNb2NrIFdhbGxldCBJbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBXYWxsZXQge1xuICAgIHBheShyZWNpcGllbnQ6IHN0cmluZywgYW1vdW50OiBzdHJpbmcsIGN1cnJlbmN5OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz47XG59XG5cbmV4cG9ydCBjbGFzcyBNb2NrV2FsbGV0IGltcGxlbWVudHMgV2FsbGV0IHtcbiAgICBhc3luYyBwYXkocmVjaXBpZW50OiBzdHJpbmcsIGFtb3VudDogc3RyaW5nLCBjdXJyZW5jeTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc29sZS5sb2coYFtXYWxsZXRdIPCfkrggUGF5aW5nICR7YW1vdW50fSAke2N1cnJlbmN5fSB0byAke3JlY2lwaWVudH0uLi5gKTtcbiAgICAgICAgLy8gU2ltdWxhdGUgbmV0d29yayBkZWxheVxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbV2FsbGV0XSDinIUgUGF5bWVudCBzdWNjZXNzZnVsIWApO1xuICAgICAgICByZXR1cm4gXCJtb2NrX3BheW1lbnRfcHJvb2ZfdG9rZW5fXCIgKyBEYXRlLm5vdygpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlYWxXYWxsZXQgaW1wbGVtZW50cyBXYWxsZXQge1xuICAgIHByaXZhdGUgY2xpZW50O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZUtleTogc3RyaW5nLCBycGNVcmw/OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgYWNjb3VudCA9IHByaXZhdGVLZXlUb0FjY291bnQocHJpdmF0ZUtleSBhcyBgMHgke3N0cmluZ31gKTtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjcmVhdGVXYWxsZXRDbGllbnQoe1xuICAgICAgICAgICAgYWNjb3VudCxcbiAgICAgICAgICAgIGNoYWluOiBiYXNlU2Vwb2xpYSxcbiAgICAgICAgICAgIHRyYW5zcG9ydDogaHR0cChycGNVcmwgfHwgJ2h0dHBzOi8vc2Vwb2xpYS5iYXNlLm9yZycpXG4gICAgICAgIH0pLmV4dGVuZChwdWJsaWNBY3Rpb25zKTtcbiAgICB9XG5cbiAgICBhc3luYyBwYXkocmVjaXBpZW50OiBzdHJpbmcsIGFtb3VudDogc3RyaW5nLCBjdXJyZW5jeTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc29sZS5sb2coYFtSZWFsV2FsbGV0XSDwn5K4IEluaXRpYXRpbmcgcmVhbCB0cmFuc2FjdGlvbjogJHthbW91bnR9ICR7Y3VycmVuY3l9IHRvICR7cmVjaXBpZW50fWApO1xuXG4gICAgICAgIC8vIFNpbXBsZSBoZXVyaXN0aWM6IGFzc3VtZSBhbW91bnQgaXMgaW4gRVRIL1N0YW5kYXJkIFVuaXQuIFxuICAgICAgICAvLyBJbiBhIHJlYWwgZ2VuZXJpYyBhZ2VudCwgd2UnZCBuZWVkIGEgdG9rZW4gbWFwLlxuICAgICAgICAvLyBGb3IgdGhpcyBkZW1vLCB3ZSBhc3N1bWUgY3VycmVuY3k9J0VUSCcgb3IgJ1VTREMnIGltcGxpZXMgbmF0aXZlL3Rva2VuIHRyYW5zZmVyLlxuICAgICAgICAvLyBTSU1QTElGSUNBVElPTjogV2Ugd2lsbCB0cmVhdCBldmVyeXRoaW5nIGFzIG5hdGl2ZSBFVEggdHJhbnNmZXIgZm9yIEJhc2UgU2Vwb2xpYSBkZW1vIGlmICdhbW91bnQnIGlzIHNtYWxsLlxuICAgICAgICAvLyBPUiB3ZSBqdXN0IHBhcnNlRXRoZXIuXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCB0aGlzLmNsaWVudC5zZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgICAgIHRvOiByZWNpcGllbnQgYXMgYDB4JHtzdHJpbmd9YCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGFyc2VFdGhlcihhbW91bnQpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUmVhbFdhbGxldF0g8J+agCBUcmFuc2FjdGlvbiBzZW50ISBIYXNoOiAke2hhc2h9YCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW1JlYWxXYWxsZXRdIOKPsyBXYWl0aW5nIGZvciBjb25maXJtYXRpb24uLi5gKTtcblxuICAgICAgICAgICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHRoaXMuY2xpZW50LndhaXRGb3JUcmFuc2FjdGlvblJlY2VpcHQoeyBoYXNoIH0pO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW1JlYWxXYWxsZXRdIOKchSBUcmFuc2FjdGlvbiBjb25maXJtZWQgaW4gYmxvY2sgJHtyZWNlaXB0LmJsb2NrTnVtYmVyfWApO1xuICAgICAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbUmVhbFdhbGxldF0g4p2MIFRyYW5zYWN0aW9uIGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFg0MDJDbGllbnQge1xuICAgIHByaXZhdGUgY2xpZW50OiBBeGlvc0luc3RhbmNlO1xuICAgIHByaXZhdGUgd2FsbGV0OiBXYWxsZXQ7XG5cbiAgICBjb25zdHJ1Y3RvcihiYXNlVXJsPzogc3RyaW5nLCB3YWxsZXQ/OiBXYWxsZXQpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBheGlvcy5jcmVhdGUoe1xuICAgICAgICAgICAgYmFzZVVSTDogYmFzZVVybCB8fCAnJyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2FsbGV0ID0gd2FsbGV0IHx8IG5ldyBNb2NrV2FsbGV0KCk7XG5cbiAgICAgICAgdGhpcy5zZXR1cEludGVyY2VwdG9ycygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBJbnRlcmNlcHRvcnMoKSB7XG4gICAgICAgIHRoaXMuY2xpZW50LmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoXG4gICAgICAgICAgICAocmVzcG9uc2UpID0+IHJlc3BvbnNlLFxuICAgICAgICAgICAgYXN5bmMgKGVycm9yOiBBeGlvc0Vycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1g0MDJDbGllbnRdIOKaoO+4jyBSZWNlaXZlZCA0MDIgUGF5bWVudCBSZXF1aXJlZC4gSGFuZGxpbmcgcGF5bWVudC4uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlNDAyKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZTQwMihlcnJvcjogQXhpb3NFcnJvcik6IFByb21pc2U8QXhpb3NSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBvcmlnaW5hbFJlcXVlc3QgPSBlcnJvci5jb25maWchO1xuXG4gICAgICAgIC8vIDEuIFBhcnNlIFBheW1lbnQgUmVxdWlyZW1lbnRzIGZyb20gUmVzcG9uc2VcbiAgICAgICAgLy8gTk9URTogVGhpcyBsb2dpYyBkZXBlbmRzIGhlYXZpbHkgb24gaG93IHRoZSBzZXJ2ZXIgc2VuZHMgNDAyIGRldGFpbHMuXG4gICAgICAgIC8vIENvbW1vbiBwYXR0ZXJucyBpbmNsdWRlICdXV1ctQXV0aGVudGljYXRlJyBoZWFkZXIgb3IgYSBKU09OIGJvZHkuXG4gICAgICAgIC8vIFdlIHdpbGwgYXNzdW1lIGEgSlNPTiBib2R5IGZvciB0aGlzIHN5bmVyZ3kgdGVzdCB1bmxlc3Mgc3RhbmRhcmQgaGVhZGVycyBhcmUgZm91bmQuXG4gICAgICAgIGNvbnN0IHBheW1lbnRSZXEgPSB0aGlzLnBhcnNlUGF5bWVudFJlcXVpcmVtZW50cyhlcnJvci5yZXNwb25zZSEpO1xuXG4gICAgICAgIGlmICghcGF5bWVudFJlcSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IHBhcnNlIHBheW1lbnQgcmVxdWlyZW1lbnRzIGZyb20gNDAyIHJlc3BvbnNlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMi4gRXhlY3V0ZSBQYXltZW50XG4gICAgICAgIGNvbnN0IHByb29mID0gYXdhaXQgdGhpcy53YWxsZXQucGF5KFxuICAgICAgICAgICAgcGF5bWVudFJlcS5yZWNpcGllbnRBZGRyZXNzLFxuICAgICAgICAgICAgcGF5bWVudFJlcS5hbW91bnQsXG4gICAgICAgICAgICBwYXltZW50UmVxLmN1cnJlbmN5XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gMy4gQXR0YWNoIFByb29mIHRvIEhlYWRlcnMgYW5kIFJldHJ5XG4gICAgICAgIC8vIFN0YW5kYXJkIG1pZ2h0IGJlICdBdXRob3JpemF0aW9uOiBMNDAyIDx0b2tlbj4nIG9yIGN1c3RvbSBoZWFkZXJzLlxuICAgICAgICBpZiAoIW9yaWdpbmFsUmVxdWVzdC5oZWFkZXJzKSB7XG4gICAgICAgICAgICBvcmlnaW5hbFJlcXVlc3QuaGVhZGVycyA9IHt9IGFzIGFueTtcbiAgICAgICAgfVxuICAgICAgICBvcmlnaW5hbFJlcXVlc3QuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEw0MDIgJHtwcm9vZn1gO1xuICAgICAgICBvcmlnaW5hbFJlcXVlc3QuaGVhZGVyc1snWC1QYXltZW50LVRva2VuJ10gPSBwcm9vZjsgLy8gUmVkdW5kYW50IGJhY2t1cFxuXG4gICAgICAgIGNvbnNvbGUubG9nKGBbWDQwMkNsaWVudF0g8J+UhCBSZXRyeWluZyByZXF1ZXN0IHdpdGggcGF5bWVudCBwcm9vZi4uLmApO1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQob3JpZ2luYWxSZXF1ZXN0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHBhcnNlUGF5bWVudFJlcXVpcmVtZW50cyhyZXNwb25zZTogQXhpb3NSZXNwb25zZSk6IFBheW1lbnRSZXF1aXJlbWVudCB8IG51bGwge1xuICAgICAgICAvLyBTdHJhdGVneSAxOiBDaGVjayBzdGFuZGFyZCBoZWFkZXJzIChzaW1wbGlzdGljIHZpZXcpXG4gICAgICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXNwb25zZS5oZWFkZXJzWyd3d3ctYXV0aGVudGljYXRlJ107XG4gICAgICAgIGlmIChhdXRoSGVhZGVyKSB7XG4gICAgICAgICAgICAvLyBQYXJzZSBsb2dpYyBmb3IgaGVhZGVyIGlmIG5lZWRlZFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RyYXRlZ3kgMjogQ2hlY2sgQm9keSAoZWFzaWVyIGZvciBjdXN0b20gYWdlbnQgQVBJcylcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEuYW1vdW50ICYmIGRhdGEuYWRkcmVzcykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGRhdGEudXJsIHx8ICcnLFxuICAgICAgICAgICAgICAgIGFtb3VudDogZGF0YS5hbW91bnQsXG4gICAgICAgICAgICAgICAgY3VycmVuY3k6IGRhdGEuY3VycmVuY3kgfHwgJ1VTREMnLFxuICAgICAgICAgICAgICAgIHJlY2lwaWVudEFkZHJlc3M6IGRhdGEuYWRkcmVzc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFB1YmxpYyBBUEkgdG8gbWFrZSByZXF1ZXN0c1xuICAgIHB1YmxpYyBhc3luYyBnZXQodXJsOiBzdHJpbmcsIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZykge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KHVybCwgY29uZmlnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgcG9zdCh1cmw6IHN0cmluZywgZGF0YT86IGFueSwgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudC5wb3N0KHVybCwgZGF0YSwgY29uZmlnKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiYXhpb3MiLCJjcmVhdGVXYWxsZXRDbGllbnQiLCJodHRwIiwicGFyc2VFdGhlciIsInB1YmxpY0FjdGlvbnMiLCJwcml2YXRlS2V5VG9BY2NvdW50IiwiYmFzZVNlcG9saWEiLCJNb2NrV2FsbGV0IiwicGF5IiwicmVjaXBpZW50IiwiYW1vdW50IiwiY3VycmVuY3kiLCJjb25zb2xlIiwibG9nIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiRGF0ZSIsIm5vdyIsIlJlYWxXYWxsZXQiLCJjb25zdHJ1Y3RvciIsInByaXZhdGVLZXkiLCJycGNVcmwiLCJhY2NvdW50IiwiY2xpZW50IiwiY2hhaW4iLCJ0cmFuc3BvcnQiLCJleHRlbmQiLCJoYXNoIiwic2VuZFRyYW5zYWN0aW9uIiwidG8iLCJ2YWx1ZSIsInJlY2VpcHQiLCJ3YWl0Rm9yVHJhbnNhY3Rpb25SZWNlaXB0IiwiYmxvY2tOdW1iZXIiLCJlcnJvciIsIlg0MDJDbGllbnQiLCJiYXNlVXJsIiwid2FsbGV0IiwiY3JlYXRlIiwiYmFzZVVSTCIsInNldHVwSW50ZXJjZXB0b3JzIiwiaW50ZXJjZXB0b3JzIiwicmVzcG9uc2UiLCJ1c2UiLCJzdGF0dXMiLCJoYW5kbGU0MDIiLCJyZWplY3QiLCJvcmlnaW5hbFJlcXVlc3QiLCJjb25maWciLCJwYXltZW50UmVxIiwicGFyc2VQYXltZW50UmVxdWlyZW1lbnRzIiwiRXJyb3IiLCJwcm9vZiIsInJlY2lwaWVudEFkZHJlc3MiLCJoZWFkZXJzIiwiYXV0aEhlYWRlciIsImRhdGEiLCJhZGRyZXNzIiwidXJsIiwiZ2V0IiwicG9zdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/x402/client.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/viem","vendor-chunks/axios","vendor-chunks/ox","vendor-chunks/abitype","vendor-chunks/@noble","vendor-chunks/next","vendor-chunks/asynckit","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/call-bind-apply-helpers","vendor-chunks/get-proto","vendor-chunks/mime-db","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/function-bind","vendor-chunks/form-data","vendor-chunks/follow-redirects","vendor-chunks/proxy-from-env","vendor-chunks/mime-types","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/get-intrinsic","vendor-chunks/es-set-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/dunder-proto","vendor-chunks/delayed-stream","vendor-chunks/combined-stream"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.ts&appDir=%2FUsers%2Fmichalwanto%2FDocuments%2FMichal_wanto%2FWork%2FSynergy_test%2FTransactional_agent%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmichalwanto%2FDocuments%2FMichal_wanto%2FWork%2FSynergy_test%2FTransactional_agent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();